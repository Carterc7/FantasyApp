<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  layout:decorate="~{layouts/defaultTemplate}"
>
  <head>
    <title>User League</title>
    <style>
      body {
        background-color: black !important;
        color: #00ced1;
      }

      .team-container {
        margin-left: 40px;
        margin-right: 40px;
        margin-bottom: 20px;
        background-color: #0c2c3a;
        border-radius: 30px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        color: #00ced1;
      }

      .team-container h2 {
        font-family: Georgia, "Times New Roman", Times, serif;
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 10px;
        cursor: pointer;
      }

      .team-container h3 {
        font-family: Georgia, "Times New Roman", Times, serif;
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: lightblue;
      }

      .team-container ul {
        list-style-type: none;
        padding-left: 0;
      }

      .team-container li {
        background-color: #0e3d4e;
        padding: 10px;
        border-radius: 8px;
        margin-bottom: 10px;
        color: white;
      }

      .team-container li:hover {
        background-color: #1f5d7a;
      }
    </style>
  </head>
  <body>
    <div layout:fragment="content">
        <a
        href="/user/teams"
        style="color: #00ced1; text-decoration: none; font-weight: bold; margin-left: 40px;"
      >
        &larr; Back to Completed Teams
      </a>
      <h1
        style="
          text-align: center;
          font-family: Georgia, 'Times New Roman', Times, serif;
          font-weight: bolder;
          font-size: 2rem;
        "
      >
        League Results
      </h1>

      <!-- Iterate over each completed mock (list of teams) -->
      <div th:each="teamList : ${completedMocks}">
        <!-- Iterate over each team -->
        <div th:each="team : ${teamList}" class="team-container">
          <h2>
            <a
              th:href="@{/league/teams(teamName=${team.teamName})}"
              style="color: #00ced1; text-decoration: none"
            >
              Team: <span th:text="${team.teamName}"></span>
            </a>
          </h2>

          <!-- Roster is initially hidden -->
          <div class="team-roster">
            <!-- Group players by position -->
            <div>
              <h3>Quarterbacks (QB)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'QB'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.name}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.name}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Running Backs (RB)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'RB'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.name}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.name}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Wide Receivers (WR)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'WR'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.name}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.name}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Tight Ends (TE)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'TE'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.name}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.name}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>