<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  layout:decorate="~{layouts/defaultTemplate}"
>
  <head>
    <title>User Teams</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- For web app manifest -->
    <link
      rel="icon"
      type="image/png"
      href="/web-app-manifest-192x192.png"
      sizes="192x192"
    />
    <link
      rel="icon"
      type="image/png"
      href="/web-app-manifest-512x512.png"
      sizes="512x512"
    />
    <style>
      body {
        background-color: #121212;
        color: #00ced1;
        font-family: "Doto", sans-serif;
        padding-bottom: 60px;
      }

      .team-container {
        background-color: #0c2c3a;
        border-radius: 15px;
        padding: 20px;
        margin: 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        color: #f0a500 !important;
      }

      .team-name:hover {
        color: #00ced1 !important;
        font-size: 2.2rem !important;
      }

      .team-container h2 {
        font-family: "Doto", sans-serif;
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .team-container h3 {
        font-family: "Doto", sans-serif;
        font-size: 1.2rem;
        margin-bottom: 10px;
        color: #00ced1;
      }

      .team-container ul {
        list-style-type: none;
        padding-left: 0;
      }

      .team-container li {
        background-color: #0e3d4e;
        padding: 10px;
        border-radius: 8px;
        margin-bottom: 10px;
        color: white;
      }

      .team-container li:hover {
        background-color: #1f5d7a;
      }

      h1 {
        font-family: "Doto", sans-serif;
        font-weight: bolder;
        font-size: 2rem;
        text-align: center;
        margin-top: 20px;
        color: #f0a500 !important;
      }

      span:hover {
        color: white;
        cursor: pointer;
      }

      .team-container a {
        color: #00ced1 !important;
        text-decoration: none;
        font-weight: bolder !important;
        font-size: 2rem !important;
      }

      /* Welcome message styling */
      .welcome-message {
        width: 70%; /* Similar width to the modal */
        padding: 20px;
        margin: 20px auto;
        background:#0c2c3a;
        border-radius: 20px;
        text-align: center;
        color: #00ced1;
        font-size: 1.1rem;
        font-weight: bolder;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.8);
        animation: fadeIn 1s ease-out;
      }

      .delete-team {
        background: none;
        border: none;
        color:#00ced1;
        cursor: pointer;
        font-size: 0.9rem; /* Make text slightly smaller */
        transition: color 0.3s ease-in-out;
      }

      .delete-team:hover {
        color: #f0a500 !important; /* Same color as the h1 tag */
        font-weight: bolder;
      }
    </style>
  </head>
  <body>
    <div layout:fragment="content">
      <div th:if="${authenticatedUser != null}" class="welcome-message">
        <h1><span th:text="${authenticatedUser.username}"></span>'s Teams</h1>
      </div>
      <!-- Iterate over each completed mock (list of teams) -->
      <div th:each="teamList : ${completedMocks}">
        <!-- Iterate over each team -->
        <div th:each="team : ${teamList}" class="team-container">
          <h2 style="color: #f0a500">
            <a
              style="color: #f0a500"
              th:href="@{/league/teams(teamName=${team.teamName})}"
            >
              <span
                class="team-name"
                style="color: #f0a500"
                th:text="${team.teamName}"
              ></span>
            </a>
            <form th:action="@{/user/delete-team}" method="post">
              <input
                type="hidden"
                th:value="${authenticatedUser.userID}"
                name="userID"
              />
              <input
                type="hidden"
                th:value="${team.teamName}"
                name="teamName"
              />
              <button
                class="delete-team"
                type="submit"
                style="
                  background: none;
                  border: none;
                  color: white;
                  cursor: pointer;
                "
              >
                Delete Team
              </button>
            </form>
          </h2>

          <!-- Roster is initially hidden -->
          <div class="team-roster">
            <!-- Group players by position -->
            <div>
              <h3>Quarterbacks (QB)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'QB'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.playerName}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.playerName}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Running Backs (RB)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'RB'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.playerName}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.playerName}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Wide Receivers (WR)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'WR'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.playerName}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.playerName}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>

            <div>
              <h3>Tight Ends (TE)</h3>
              <ul>
                <li
                  th:each="player : ${team.roster}"
                  th:if="${player.position} == 'TE'"
                >
                  <form th:action="@{/team/player-details}" method="post">
                    <input
                      type="hidden"
                      th:value="${player.playerName}"
                      name="espnName"
                    />
                    <button
                      type="submit"
                      style="
                        background: none;
                        border: none;
                        color: white;
                        cursor: pointer;
                      "
                    >
                      <span th:text="${player.playerName}"></span>
                    </button>
                  </form>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
